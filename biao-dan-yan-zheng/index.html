<html xmlns:wb="http://open.weibo.com/wb">

<head>
    <!-- meta信息 -->
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <!-- for 360 指定内核 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="csrf-param" content="authenticity_token">
    <meta name="csrf-token" content="Ye1jEU+Jp2rM7U9W18w9f90L1uyFRscRzNhiJxi1nAB0IUfqi2aCk4ccfPMIHMsFaNujKu7s9dGA44uMo33NPw==">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    <!-- 样式表 -->
    <link rel="stylesheet" media="all" href="/css/style.css">
    <link rel="stylesheet" media="screen" href="/css/screen.css">

    <!-- 不知道是什么 -->
    <style type="text/css">
        .p_spBanner {
            margin: 20px 0 40px;
        }

        .p_spBanner_sm {
            display: none;
        }

        @media (max-width: 600px) {
            .p_spBanner_bg {
                display: none;
            }
            .p_spBanner_sm {
                display: inline;
                ;
            }
        }
    </style>

    <!--[if lt IE 9]>
    <script src="https://alioss.g-cores.com/assets/html5shiv-99cb6d655922cd55cf310aa415c20655b29fc141d48778feb15f0ca3c732cf0a.js"></script><script src="https://alioss.g-cores.com/assets/respond/1.4.2/respond.min-5098b6c38985756e424a7c59535a58c3e6c616881478ab726f0837c5c7ef8ff0.js"></script>

      <link href="https://alioss.g-cores.com/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
      <link href="/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
      <script src="/respond.proxy.js"></script>
  <![endif]-->

    <!-- 标题 -->
    <title>机核</title>

    <!-- seo信息 -->
    <meta name="keywords" content="游戏,游戏电台,游戏广播,游戏播客,电视游戏,家用机游戏,单机游戏,游戏论坛,游戏新闻,游戏视频.">
    <meta name="description" content="从游戏到生活，我们生产内容，关乎你喜爱的一切。">

    <!-- rss地址 -->
    <link href="https://www.g-cores.com/rss" rel="alternate" type="application/rss+xml" title="Gamecores Feed">

    <!-- 安卓app图标 -->
    <link rel="apple-touch-icon" href="/touch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png">

    <!-- <script src="https://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script> -->

</head>

<body class="body-fixedNavbar">
    <!-- 顶部菜单栏 -->
        <nav class="navbar navbar-default navbar-fixed-top" id="j_app_navbar" role="navigation">
      <div class="container">
        <div class="navbar_header">
          <!-- 小屏幕切换按钮 -->
          <button type="button" class="navbar_toggle" data-toggle="collapse" data-target="#j_navbarCollapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          <a class="navbar_brand navbar_brand-logo" id="j_logo" href="/">
            <img src="/img/logo-mini.png"
              alt="我道">
          </a>
        </div>
    
        <!-- 功能区 -->
        <div class="collapse collapsed navbar_collapse" id="j_navbarCollapse">
          <ul class="nav navbar_nav navbar_right">
            <li>
              <a href="https://www.g-cores.com/account/signup">RSS</a>
            </li>
          </ul>
          <form class="navbar_search" action="https://www.g-cores.com/search" accept-charset="UTF-8" method="get">
            <input name="utf8" type="hidden" value="✓">
            <span class="fa fa-search"></span>
            <input type="text" name="keyword" placeholder="Search">
          </form>
    
          <!-- 菜单项 -->
          <ul class="nav navbar_nav navbar_right" id="j_nav">
            
            <li>
              <a class="" n_type="" href="/">
                首页
              </a>
            </li>
            
            <li>
              <a class="" n_type="" href="/links.html">
                左邻
              </a>
            </li>
            
            <li>
              <a class="" n_type="" href="/archive.html">
                归档
              </a>
            </li>
            
            <li>
              <a class="" n_type="" href="/about.html">
                关于
              </a>
            </li>
            
            <li>
              <a class="" n_type="" href="/rss.xml">
                订阅
              </a>
            </li>
            
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
    </nav>

    <!-- 不知道是什么 -->
    <style type="text/css">
        .navbar_brand-logo {
            padding-left: 15px !important;
            margin-left: 0 !important;
        }

        .navbar_brand-affix {
            padding-right: 0 !important;
        }

        @media (min-width: 992px) {
            .navbar_brand-affix {
                margin-left: -50px !important;
            }
            .navbar_brand-logo {
                padding-left: 0 !important;
                margin-left: 0 !important;
            }
        }

        .navbar_brand-affix img {
            margin: -8px 0 0 0;
            display: inline-block !important;
        }

        .navbar_brand-affix .navbar_brand-affix_red {
            display: none !important;
        }

        .navbar_brand-affix:hover .navbar_brand-affix_white {
            display: none !important;
        }

        .navbar_brand-affix:hover .navbar_brand-affix_red {
            display: inline !important;
        }
    </style>

    <!-- 引入网页主体 -->
    <div class="wrapper">
    <!-- 文章特色图片 -->
    <div class="story_header" style="background-image: url('http://cdn.4zen.top/default.jpg')">
        <div class="story_header_cover"></div>
        <div class="story_header_imgContainer">
            <div class="story_header_imgContainer_img">
                <img data-no-retina="" alt="正则表达式-表单验证" src="http://cdn.4zen.top/default.jpg">
            </div>
        </div>
        <div class="story_header_cover story_header_cover-second"></div>
        <div class="story_header_inner">
            <div class="story_header_text">
                <h1 class="story_title" id="j_title_preview">
                    正则表达式-表单验证
                </h1>

                <p class="story_info">2017-04-19</p>
            </div>
        </div>
        <a class="story_user" href="/users/64104">
            <div class="story_user_border">
                <img src="/img/avatar.png" alt="1900">
            </div>
            <p class="story_user_name">
                1900
            </p>
        </a>
        <div class="story_consoles">
        </div>
    </div>

    <div class="p_disclaimer">
        本文系用户投稿，不代表机核网观点
    </div>



    <div id="j_story_18172" class="story">
        <!-- 文章主体 -->
        <h3 id="一步一步"><a href="#一步一步" class="headerlink" title="一步一步"></a>一步一步</h3><p>今天终于开始写表单了，进度有点慢，时间不是很充裕，每天只有晚上这点时间可以折腾。而且这么久没写项目了感觉脑袋有点跟不上了..项目进度等这个添加用户的功能做好之后再来一次汇整总结把！</p>
<p>因为要写表单了，所以需要考虑上数据的验证问题。自己查阅了framework7的官方文档和百度、知乎这些资料平台后发现似乎并没验证表单的组件。无奈之下本来打算选择jquery，然后使用jquery的一些组件。后来不知道怎么的忽然想起了微信的weui.js，里面不仅有我需要的表单验证功能还有之后会用到的上传组件。所以我就直接拿过来用了，没想到和framework7契合度似乎还挺高的~~~</p>
<p><img src="http://cdn.4zen.top/image/0/be/871d5e3a01d48a724f4ee750cbd29.png" alt=""></p>
<h3 id="使用weui-js"><a href="#使用weui-js" class="headerlink" title="使用weui.js"></a>使用weui.js</h3><p>我们网页内引用weui.js后就可以通过<code>weui.form.validate()</code>这种方式来访问了，其他的函数也都是同理，具体函数列表参见<a href="https://github.com/weui/weui.js" target="_blank" rel="external">weui.js</a></p>
<pre><code>&lt;!--  head处引入css(css必须引入，可以使用cdn。因为weui.js里面生成的页面元素会用到) --&gt;
&lt;link href=&quot;https://cdn.bootcss.com/weui/1.1.2/style/weui.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;!-- 底部处引入js文件(weui.js没有cdn，需要自己下载到项目中) --&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/weui.min.js&quot;&gt;&lt;/script&gt;
</code></pre><p>我根据我的理解写的一个DEMO</p>
<pre><code>&lt;form id=&quot;myform&quot;&gt;
    &lt;input name=&quot;id&quot; /&gt;
    &lt;!--  可以直接设置pattern属性，或者使用参数传入格式为：REG_定义的标识名字，这里电话的验证就是通过REG_TEL定义  --&gt;
    &lt;input type=&quot;text&quot; name=&quot;ppaccount&quot; placeholder=&quot;请输入帐号&quot; notmatchtips=&quot;请输入4位以上的帐号&quot; pattern=&quot;^\d{4}&quot; required&gt;
    &lt;input type=&quot;tel&quot; placeholder=&quot;输入你现在的手机号&quot; emptyTips=&quot;请输入手机号&quot; notMatchTips=&quot;请输入正确的手机号&quot; pattern=&quot;REG_TEL&quot;&gt;
    &lt;input type=&quot;button&quot; id=&quot;btn&quot; value=&quot;验证&quot; &gt;

&lt;/form&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    //点击按钮时验证
    $$(document).on(&#39;click&#39;, &#39;#btn&#39;, function() {
        weui.form.validate(&#39;#myform&#39;, function(error) {
            if(!error) {
                var loading = weui.loading(&#39;提交中...&#39;);
                setTimeout(function() {
                    loading.hide();
                    weui.toast(&#39;提交成功&#39;, 3000);
                }, 1500);
            }
            // return true; // 当return true时，不会显示错误
        }, {
            //定义正则表达式
            regexp: {
                TEL: /(?:^\d{15}$)|(?:^\d{18}$)|^\d{17}[\dXx]$/
            }
        });
    })
    //输入元素失去焦点时验证，但是我这里没有生效
    weui.form.checkIfBlur(&#39;#myform&#39;, {
        regexp: {
            IDNUM: /(?:^\d{15}$)|(?:^\d{18}$)|^\d{17}[\dXx]$/,
            VCODE: /^.{4}$/
        }
    });
&lt;/script&gt;
</code></pre><h3 id="一些关于正则表达式的资料"><a href="#一些关于正则表达式的资料" class="headerlink" title="一些关于正则表达式的资料"></a>一些关于正则表达式的资料</h3><p>在网上搜集了一些相关的资料<sup><a href="#fn_" id="reffn_"></a></sup></p>
<p>固定格式验证是指对输入的内容是否符合格式要求的验证，写法为if(v.match())，natch里面放正则表达式，如果匹配成功，return的是输入的内容，如果匹配失败，return的是null。正则表达式是对输入的内容的格式的要求，比如邮箱地址、电话号码、身份证号码等。常用的正则表达式符号有：</p>
<p>//：正则表达式的书写规则，//中间写正则表达式的内容，/内容/；</p>
<p>^：匹配开头，/^ve表示以ve开头；</p>
<p>$：匹配结尾，ve$/表示以ve结束；</p>
<p>\d：一个任意的数字，等于0-9；</p>
<p>\m：一个任意的数字或者字母，包括下划线；</p>
<p>\s：任意的不可见的字符串，例如空格、换行；</p>
<p>\S：任意的可见的字符；</p>
<p>{n}：前面的表达式重复n变，n等于几就是几遍；</p>
<p>{m，n}：把前面的表达式重复至少m遍，最多n遍；<br>{m， }：把前面的表达式重复至少m遍，最多不限；</p>
<p>+：左边的表达式，至少出现1次，至多不限，相当于{1, };</p>
<p>*：左边的表达式，至少出现0次，至多不限，相当于{0, };</p>
<p>？：左边的表达式，至少出现0次，最多出现1次，相当于{0,1}；</p>
<p>[a,b,c]：只能取方括号中内容之一；</p>
<p>[a-z]或[1-9]：在a-z或者0-9取值；</p>
<p>\r：表示换行；</p>
<p>\n：表示换行；</p>
<p>\t：表示Tab键；</p>
<p>\：表示\；</p>
<p>\”：”</p>
<p>x|y：可以匹配x或者y；</p>
<p><sup><a href="#fn_xyz" id="reffn_xyz">xyz</a></sup>：不匹配[]里面的内容；</p>
<p>常用的正则表达式：</p>
<ul>
<li>Email地址：<code>^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</code></li>
<li>域名：<code>[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?</code></li>
<li>InternetURL：<code>[a-zA-z]+://[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$</code></li>
<li>手机号码：<code>^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$</code></li>
<li>电话号码(“XXX-XXXXXXX”、”XXXX-XXXXXXXX”、”XXX-XXXXXXX”、”XXX-XXXXXXXX”、”XXXXXXX”和”XXXXXXXX)：<code>^($\d{3,4}-)|\d{3.4}-)?\d{7,8}$</code></li>
<li>国内电话号码(0511-4405222、021-87888822)：<code>\d{3}-\d{8}|\d{4}-\d{7}</code></li>
<li>身份证号(18位数字)：<code>/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/</code></li>
<li>身份证号(15位数字)：<code>/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/</code></li>
<li>短身份证号码(数字、字母x结尾)：<code>^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$</code></li>
<li>帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：<code>^[a-zA-Z][a-zA-Z0-9_]{4,15}$</code></li>
<li>密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：<code>^[a-zA-Z]\w{5,17}$</code></li>
<li>强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：<code>^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$</code></li>
<li>日期格式：<code>^\d{4}-\d{1,2}-\d{1,2}</code></li>
<li>一年的12个月(01～09和1～12)：<code>^(0?[1-9]|1[0-2])$</code></li>
<li>一个月的31天(01～09和1～31)：<code>^((0?[1-9])|((1|2)[0-9])|30|31)$</code></li>
<li>钱的输入格式：有四种钱的表示形式我们可以接受:”10000.00″ 和 “10,000.00”, 和没有 “分” 的 “10000” 和 “10,000”：<code>^[1-9][0-9]*$</code></li>
<li>xml文件：<code>^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$</code></li>
<li>中文字符的正则表达式：<code>[\u4e00-\u9fa5]</code></li>
<li>双字节字符：<code>[^\x00-\xff]</code> (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))</li>
<li>空白行的正则表达式：<code>\n\s*\r</code> (可以用来删除空白行)</li>
<li>HTML标记的正则表达式：<code>&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt;</code> (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)</li>
<li>首尾空白字符的正则表达式：<code>^\s*|\s*$或(^\s*)|(\s*$)</code> (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)</li>
<li>腾讯QQ号：<code>[1-9][0-9]{4,}</code> (腾讯QQ号从10000开始)</li>
<li>中国邮政编码：<code>[1-9]\d{5}(?!\d)</code> (中国邮政编码为6位数字)</li>
<li>IP地址：<code>\d+\.\d+\.\d+\.\d+</code> (提取IP地址时有用)</li>
<li>IP地址：<code>((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?</code></li>
</ul>

    </div>

    <!-- meta信息 -->
    <div class="story_socialActions">
        <a href="javascript:;" id="j_original_like" class="story_like ">
            <span class="fa fa-thumbs-up"></span>
            <strong id="j_original_likesNum">218</strong>
        </a>
        <a href="javascript:;" id="j_original_mark" class="story_bookmark " title="收藏">
            <span class="fa fa-star"></span>
        </a>
        <a href="javascript:;" id="j_shareToWeibo" class="story_share">
            <span class="fa fa-weibo"></span>
        </a>
        <a href="javascript:;" id="j_shareToWXBtn" data-toggle="popover" title="" data-placement="top" data-container="body" data-original-title="微信扫一扫">
            <span class="fa fa-weixin"></span>
        </a>

    </div>


    <!-- 相关阅读 -->
    <div class="row story_recommendations">
        
        <div class="col-md-6">
            <a class="story_header" style="background-image: url('http://cdn.4zen.top/default.jpg')"
                href="http://www.1900.live/weibo/">
                <div class="story_header_cover"></div>
                <div class="story_header_cover story_header_cover-second"></div>
                <div class="story_header_inner">
                    <div class="story_header_text prev">
                        <p class="story_recommendations_head">
                            上一篇
                        </p>
                        <h2 class="story_recommendations_title">
                            你人生中的最大遗憾是什么？
                        </h2>
                        <p class="story_recommendations_info">
                            在用CI框架的时候发现访问控制器的默认情况下是需要加index.php，格式如下：

http://localhost/index.php/yourctrl

查看官方的手册后发现这一章节有说到怎么处&hellip;</p>
                        </p>
                    </div>
                </div>
            </a>
        </div>
        
        
        <div class="col-md-6">
            <a class="story_header" style="background-image: url('http://cdn.4zen.top/default.jpg')"
                href="http://www.1900.live/ci-on-windows-apache-rewrite-model/">
                <div class="story_header_cover"></div>
                <div class="story_header_cover story_header_cover-second"></div>
                <div class="story_header_inner">
                    <div class="story_header_text">
                        <p class="story_recommendations_head">
                            下一篇
                        </p>
                        <h2 class="story_recommendations_title">
                            CongdeIgniter在windows下开启Apache的Rewrite模块
                        </h2>
                        <p class="story_recommendations_info">
                            在用CI框架的时候发现访问控制器的默认情况下是需要加index.php，格式如下：

http://localhost/index.php/yourctrl

查看官方的手册后发现这一章节有说到怎么处&hellip;</p>
                        </p>
                    </div>
                </div>
            </a>
        </div>
        
    </div>

    <!-- 评论区 -->
    <div class="comments_backdrop">
        <div class="container">
        </div>
    </div>

</div>

    <!-- 引入页脚文件 -->
        <!-- 页脚 -->
    <footer class="footer">
        <div class="footer_contact">
            <a href="mailto:haolun@g-cores.com" target="_blank">CONTACT US | 联系我们</a>
        </div>
        <div class="footer_info">
            <img class="footer_top" data-no-retina="" src="https://alioss.g-cores.com/assets/footer_top-4c293a683d2aece39281f2cf7e9bb022c2e55dfbd963d2862d20e3690eea91ae.jpg"
                alt="">
    
            <div class="footer_logos">
                <a href="https://www.g-cores.com/categories/13">
                    <img data-no-retina="" src="https://alioss.g-cores.com/assets/footer/gadio-01-e8679bfc838ae676eead7fa354c6ab7e26f3ec7bbf093c58ccaa647ae7701de4.png"
                        alt="">
                </a>
                <a href="https://www.g-cores.com/categories/12">
                    <img data-no-retina="" src="https://alioss.g-cores.com/assets/footer/gadiopro-01-3bbe85deb999275b31c7658a0e09299751850497bbee7e10cedb6a83ab29de75.png"
                        alt="">
                </a>
                <a href="https://www.g-cores.com/categories/14">
                    <img data-no-retina="" src="https://alioss.g-cores.com/assets/footer/music-01-a744efa6c6fbba4474e9f2a4b4de64347065eddc7e9ebccc375a7de2e9829f74.png"
                        alt="">
                </a>
                <a href="https://www.g-cores.com/categories/15">
                    <img data-no-retina="" src="https://alioss.g-cores.com/assets/footer/docu-01-8640c29ee16770157814443d1dbd01ccd5b3cf007b249db6fc6523b295662d2a.png"
                        alt="">
                </a>
                <a href="https://www.g-cores.com/categories/16">
                    <img data-no-retina="" src="https://alioss.g-cores.com/assets/footer/special-01-69dcd46be43114fa958e1d969bc14297e12b193dd753fb924e07e0beff25dd37.png"
                        alt="">
                </a>
            </div>
    
            <div class="footer_follow">
                <h4>Follow us</h4>
                <p>
                    <a href="http://weibo.com/gamecore" target="_blank" class="footer_weibo"></a>
                    <a href="javascript:;" class="footer_weixin" data-toggle="tooltip" data-placement="top" title="" data-original-title="微信号：gamecores，欢迎订阅"></a>
                    <a href="http://shop124260606.taobao.com" target="_blank" class="footer_taobao"></a>
                    <a href="http://itunes.apple.com/cn/podcast/id420660752" target="_blank" class="footer_podcast"></a>
                    <a href="https://www.g-cores.com/rss" target="_blank" class="footer_rss"></a>
                </p>
            </div>
    
            <p>
                All Rights Reserved 2009-2015 GAMECORES - Terms &amp; Conditions 闽ICP备11023385号-1
            </p>
        </div>
    </footer>

    <!-- 回到顶部按钮 -->
    <a href="javascript:;" class="toTop" id="j_toTop" style="display:none;">
        <img src="https://alioss.g-cores.com/assets/totop-4489de3bdf698735aae759e5da990bc8ecb48fd5852e674fc5ba4fcdddfd3471.png" alt="">
    </a>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="/js/index.js"></script>

</body>

</html>